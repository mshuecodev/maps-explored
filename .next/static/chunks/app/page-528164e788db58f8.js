(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{4320:(e,t,r)=>{Promise.resolve().then(r.bind(r,8152))},2255:(e,t,r)=>{"use strict";r.d(t,{AuthProvider:()=>d,A:()=>u});var s=r(5155),a=r(2115),l=r(399);let n=(0,r(9904).Wp)({apiKey:"AIzaSyBERXsbpdKHB-0SfHfAcbIBTAT1YgJqkvc",authDomain:"mshuecodev-daede.firebaseapp.com",projectId:"mshuecodev-daede",storageBucket:"mshuecodev-daede.firebasestorage.app",messagingSenderId:"453675518398",appId:"1:453675518398:web:af93634aeab4b8a3d051ef",measurementId:"G-JSR0LJVC4G"}),o=(0,l.xI)(n);(0,l.oM)(o,l.iM).catch(e=>{console.error("Error setting persistence:",e)});let i=new l.HF,c=(0,a.createContext)({user:null,loading:!0,token:null,login:async()=>{},handleLogout:async()=>{},handleRegister:async()=>{},loginWithGoogle:async()=>{}}),d=e=>{let{children:t}=e,[r,n]=(0,a.useState)(null),[d,u]=(0,a.useState)(!0),[g,h]=(0,a.useState)(null),m=async()=>{let e=await (0,l.df)(o,i);console.log("User logged in with Google:",e.user);let t=await (0,l.p9)(e.user);n(e.user),h(t)},x=async(e,t)=>{let r=await (0,l.x9)(o,e,t),s=await (0,l.p9)(r.user);n(r.user),h(s)},p=async(e,t)=>{let r=await (0,l.eJ)(o,e,t);console.log("User registered:",r.user);let s=await (0,l.p9)(r.user);n(r.user),h(s)},b=async()=>{await (0,l.CI)(o),n(null),h(null)},f=async()=>{r&&h(await (0,l.p9)(r,!0))};return(0,a.useEffect)(()=>{if(r){let e=setTimeout(()=>{console.log("Forcing logout after 30 minutes"),b()},18e5);return()=>clearTimeout(e)}},[r]),(0,a.useEffect)(()=>{let e=(0,l.iZ)(o,async e=>{n(e),u(!1),e?h(await (0,l.p9)(e)):h(null)});return()=>{e()}},[]),(0,a.useEffect)(()=>{let e=setInterval(f,9e5);return()=>clearInterval(e)},[r]),(0,s.jsx)(c.Provider,{value:{user:r,loading:d,token:g,login:x,handleRegister:p,handleLogout:b,loginWithGoogle:m},children:t})},u=()=>(0,a.useContext)(c)},8152:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>l});var s=r(5155),a=r(2255);function l(){let{user:e,loading:t,token:r}=(0,a.A)(),l=async()=>{try{(await fetch("/api/auth/logout",{method:"POST"})).ok?console.log("Logged out successfully"):console.error("Error logging out")}catch(e){console.error("Error logging out:",e)}};return t?(0,s.jsx)("main",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:(0,s.jsx)("div",{className:"text-center",children:(0,s.jsx)("p",{className:"text-gray-600",children:"Loading..."})})}):(0,s.jsx)("main",{className:"min-h-screen flex items-center justify-center bg-gradient-to-r from-blue-500 to-purple-600",children:(0,s.jsxs)("div",{className:"text-center p-8 bg-white rounded-lg shadow-lg",children:[(0,s.jsx)("h1",{className:"text-5xl font-extrabold text-gray-800 mb-4",children:"Welcome to My App"}),e?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("p",{className:"mt-4 text-gray-600",children:["Welcome, ",e.email]}),(0,s.jsxs)("div",{className:"mt-6 flex justify-center space-x-4",children:[(0,s.jsx)("button",{onClick:l,className:"mt-6 px-6 py-3 bg-red-500 text-white rounded-lg hover:bg-red-600 transition",children:"Sign Out"}),(0,s.jsx)("a",{href:"/dashboard",className:"mt-6 px-6 py-3 bg-green-500 text-white rounded-lg hover:bg-green-600 transition inline-block text-center",children:"Dashboard"})]})]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("p",{className:"mt-4 text-gray-600",children:"This is the home page."}),(0,s.jsxs)("div",{className:"mt-6 flex justify-center space-x-4",children:[(0,s.jsx)("a",{href:"/login",className:"px-6 py-3 bg-white text-blue-500 border border-blue-500 rounded-lg hover:bg-blue-500 hover:text-white transition",children:"Login"}),(0,s.jsx)("a",{href:"/register",className:"px-6 py-3 bg-white text-purple-500 border border-purple-500 rounded-lg hover:bg-purple-500 hover:text-white transition",children:"Register"})]})]})]})})}}},e=>{var t=t=>e(e.s=t);e.O(0,[523,361,441,517,358],()=>t(4320)),_N_E=e.O()}]);