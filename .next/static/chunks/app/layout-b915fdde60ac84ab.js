(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[177],{8952:(e,a,t)=>{Promise.resolve().then(t.bind(t,2255)),Promise.resolve().then(t.t.bind(t,2353,23)),Promise.resolve().then(t.t.bind(t,7275,23)),Promise.resolve().then(t.t.bind(t,9324,23))},2255:(e,a,t)=>{"use strict";t.d(a,{AuthProvider:()=>c,A:()=>d});var s=t(5155),l=t(2115),r=t(399);let n=(0,t(9904).Wp)({apiKey:"AIzaSyBERXsbpdKHB-0SfHfAcbIBTAT1YgJqkvc",authDomain:"mshuecodev-daede.firebaseapp.com",projectId:"mshuecodev-daede",storageBucket:"mshuecodev-daede.firebasestorage.app",messagingSenderId:"453675518398",appId:"1:453675518398:web:af93634aeab4b8a3d051ef",measurementId:"G-JSR0LJVC4G"}),o=(0,r.xI)(n);(0,r.oM)(o,r.iM).catch(e=>{console.error("Error setting persistence:",e)});let i=new r.HF,u=(0,l.createContext)({user:null,loading:!0,token:null,login:async()=>{},handleLogout:async()=>{},handleRegister:async()=>{},loginWithGoogle:async()=>{}}),c=e=>{let{children:a}=e,[t,n]=(0,l.useState)(null),[c,d]=(0,l.useState)(!0),[f,m]=(0,l.useState)(null),b=async()=>{let e=await (0,r.df)(o,i);console.log("User logged in with Google:",e.user);let a=await (0,r.p9)(e.user);n(e.user),m(a)},g=async(e,a)=>{let t=await (0,r.x9)(o,e,a),s=await (0,r.p9)(t.user);n(t.user),m(s)},p=async(e,a)=>{let t=await (0,r.eJ)(o,e,a);console.log("User registered:",t.user);let s=await (0,r.p9)(t.user);n(t.user),m(s)},v=async()=>{await (0,r.CI)(o),n(null),m(null)},h=async()=>{t&&m(await (0,r.p9)(t,!0))};return(0,l.useEffect)(()=>{if(t){let e=setTimeout(()=>{console.log("Forcing logout after 30 minutes"),v()},18e5);return()=>clearTimeout(e)}},[t]),(0,l.useEffect)(()=>{let e=(0,r.iZ)(o,async e=>{n(e),d(!1),e?m(await (0,r.p9)(e)):m(null)});return()=>{e()}},[]),(0,l.useEffect)(()=>{let e=setInterval(h,9e5);return()=>clearInterval(e)},[t]),(0,s.jsx)(u.Provider,{value:{user:t,loading:c,token:f,login:g,handleRegister:p,handleLogout:v,loginWithGoogle:b},children:a})},d=()=>(0,l.useContext)(u)},9324:()=>{},2353:e=>{e.exports={style:{fontFamily:"'Geist', 'Geist Fallback'",fontStyle:"normal"},className:"__className_4d318d",variable:"__variable_4d318d"}},7275:e=>{e.exports={style:{fontFamily:"'Geist Mono', 'Geist Mono Fallback'",fontStyle:"normal"},className:"__className_ea5f4b",variable:"__variable_ea5f4b"}}},e=>{var a=a=>e(e.s=a);e.O(0,[519,523,361,441,517,358],()=>a(8952)),_N_E=e.O()}]);